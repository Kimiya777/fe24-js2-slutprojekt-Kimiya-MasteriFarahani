const e="https://slutprojekt-js2-654ce-default-rtdb.europe-west1.firebasedatabase.app/tasks";async function t(){let t=await fetch(e+".json");return await t.json()}async function n(t){let n={method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}},a=await fetch(e+".json",n);await a.json()}async function a(t){let n=e+`/${t}.json`,a=await fetch(n,{method:"DELETE"});console.log(await a.json())}async function o(t,n){console.log(t,n);let a=e+`/${t}.json`,o={method:"PATCH",body:JSON.stringify({assignedMember:n}),headers:{"Content-type":"application/json"}},s=await fetch(a,o);console.log(await s.json())}async function s(t,n){console.log(t,n);let a=e+`/${t}.json`,o={method:"PATCH",body:JSON.stringify({status:n}),headers:{"Content-type":"application/json"}},s=await fetch(a,o);console.log(await s.json())}const l="https://slutprojekt-js2-654ce-default-rtdb.europe-west1.firebasedatabase.app/members";async function c(){let e=await fetch(l+".json");return await e.json()}async function r(e){console.log(e);let t={method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json"}},n=await fetch(l+".json",t);console.log(await n.json())}const i=document.querySelector("#assign-task-to-member-final"),d=document.querySelector("#assign-task-to-member-task"),m=document.querySelector("#assign-task-to-member-member");function p(e){let n=document.querySelector("#new-tasks"),o=document.querySelector("#in-progress-tasks"),l=document.querySelector("#done-tasks");for(let c in n.innerHTML="",o.innerHTML="",l.innerHTML="",d.innerHTML="",e){let r=e[c],i=document.createElement("div"),m=document.createElement("h3");i.id=c,m.innerText=r.task,i.append(m);let u=document.createElement("p");u.innerText=`Date: ${r.date}`,i.append(u);let y=document.createElement("p");y.innerText=`Description: ${r.description}`,i.append(y);let g=document.createElement("p");g.innerText=`Assigned member: ${r.assignedMember}`,i.append(g);let f=document.createElement("p");if(f.innerText=`Category: ${r.department}`,i.append(f),"in progress"===r.status){o.append(i);let e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";let n=document.createElement("label");n.innerText="Done:";let a=document.createElement("input");a.type="checkbox",a.addEventListener("change",async()=>{a.checked&&(await s(c,"done"),p(await t()))}),e.append(n,a),i.append(e)}else if("done"===r.status){l.append(i);let e=document.createElement("div");e.style.display="flex",e.style.alignItems="center",e.style.gap="5px";let n=document.createElement("label");n.innerText="Delete:";let o=document.createElement("button");o.innerText="X",i.append(o),o.addEventListener("click",async()=>{await a(c),p(await t())}),e.append(n,o),i.append(e)}else{n.append(i);let e=document.createElement("option");e.value=c,e.innerText=r.task,d.append(e)}}}function u(e){let t=document.querySelector("#membersContainer");for(let n in t.innerHTML="",m.innerHTML="",e){let a=document.createElement("div"),o=document.createElement("h3");a.id=n,o.innerText=e[n].name,a.append(o),t.append(a);let s=document.createElement("p");s.innerText=`Role: ${e[n].role}`,a.append(s);let l=document.createElement("option");l.value=n,l.innerText=e[n].name,m.append(l),m.value=n}}document.getElementById("sort-form"),document.getElementById("filter-form"),document.getElementById("category-select"),document.getElementById("member-select"),document.getElementById("sort-tasks"),i.addEventListener("click",async e=>{e.preventDefault();let n=d.value,a=m.value;if(console.log(n),!n||!a){console.log("Please select both a task and a member.");return}let l=await c(),r=await t(),i=l[a],u=l[a].role,y=r[n].department;console.log("Member's Role:",u),console.log("Task's Department:",y),u===y?(await o(n,i.name),await s(n,"in progress"),p(await t())):console.log("choose a member whose role matches the department of your chosen task")}),t().then(p),c().then(u);const y=document.getElementById("task-form"),g=document.getElementById("member-form"),f=document.getElementById("task-department-select"),E=document.getElementById("member-select"),w=document.getElementById("task-description"),b=document.getElementById("task-name");y.addEventListener("submit",async e=>{e.preventDefault();let a=b.value,o=f.value;console.log(a);let s=new Date(Date.now()).toString(),l=w.value;await n({task:a,done:!1,department:o,date:s,status:"new",assignedMember:"none",description:l}),p(await t())}),g.addEventListener("submit",async e=>{e.preventDefault();let t=g.querySelector("input").value,n=E.value;console.log(t),await r({name:t,role:n}),u(await c())});
//# sourceMappingURL=index.525a704b.js.map
